import{r as n,j as e,a as j}from"./app-DavygP7Q.js";import{I as m,B as u}from"./index-oAZvHM8S.js";import{C as g,a as f,b as v,c as y}from"./card-DilZC9tS.js";import{L as o}from"./label-Hv8HLJCD.js";import{S as w,d}from"./select-FA8ItH09.js";import{L as C}from"./loader-circle-D2eR6l7f.js";import{D as L}from"./download-DBC9viLM.js";/* empty css            */import"./Combination-oikHWHjz.js";import"./index-DfyiOyPX.js";import"./index-BZvUPff-.js";import"./chevron-down-DCEK08_m.js";import"./chevron-up-BA2UgZl4.js";function A(){const[t,l]=n.useState({start_date:"",end_date:""}),[i,h]=n.useState("daily"),[c,p]=n.useState(!1),x=async()=>{p(!0);try{const a=await j.get("/admin/reports/sales",{params:{...t,type:i,format:"pdf"},responseType:"blob"}),r=window.URL.createObjectURL(new Blob([a.data])),s=document.createElement("a");s.href=r,s.setAttribute("download","sales-report.pdf"),document.body.appendChild(s),s.click(),s.remove()}catch(a){console.error("Error downloading report:",a)}finally{p(!1)}};return e.jsx("div",{children:e.jsxs(g,{children:[e.jsx(f,{children:e.jsx(v,{children:"Laporan Penjualan"})}),e.jsx(y,{children:e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{children:"Tanggal Mulai"}),e.jsx(m,{type:"date",value:t.start_date,onChange:a=>l(r=>({...r,start_date:a.target.value}))})]}),e.jsxs("div",{children:[e.jsx(o,{children:"Tanggal Akhir"}),e.jsx(m,{type:"date",value:t.end_date,onChange:a=>l(r=>({...r,end_date:a.target.value}))})]})]}),e.jsxs("div",{children:[e.jsx(o,{children:"Tipe Laporan"}),e.jsxs(w,{value:i,onValueChange:h,children:[e.jsx(d,{value:"daily",children:"Harian"}),e.jsx(d,{value:"weekly",children:"Mingguan"}),e.jsx(d,{value:"monthly",children:"Bulanan"})]})]}),e.jsx(u,{onClick:x,disabled:c,children:c?e.jsxs(e.Fragment,{children:[e.jsx(C,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"mr-2 h-4 w-4"}),"Download PDF"]})})]})})]})})}export{A as default};
