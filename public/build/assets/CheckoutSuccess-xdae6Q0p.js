import{r as n,u as o,S as x,j as a}from"./app-Bp9nRReo.js";import{L as d}from"./Layout-DjSZJc01.js";import{B as c}from"./index-l7CZPZS1.js";import{C as u,a as h,b as p,c as f,d as b}from"./card-CetfL4z6.js";import{a as j}from"./formatters-NwLEpD3y.js";import{C as g}from"./Combination-BK1ypCM2.js";import{R as y}from"./refresh-cw-CHDk20cR.js";/* empty css            */import"./use-initials-D77uNnFN.js";import"./map-pin-DQXoSP2f.js";import"./badge-D3rnaFmZ.js";const B=({order:e})=>{const[s,i]=n.useState(!1);let l=()=>{};try{l=o().clearCart}catch{console.warn("Cart provider not available, using fallback")}n.useEffect(()=>{try{l()}catch(t){console.warn("Error clearing cart:",t)}},[]),n.useEffect(()=>{let t=null;if(e.payment_status!=="paid"){const m=setTimeout(()=>{r(),t=setInterval(r,2e4)},5e3);return()=>{clearTimeout(m),t&&clearInterval(t)}}},[e.payment_status]);const r=()=>{s||(i(!0),x.visit(`/checkout/check-status/${e.id}`,{onFinish:()=>i(!1)}))};return a.jsx(d,{children:a.jsx("div",{className:"container mx-auto px-4 py-12 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"mx-auto max-w-3xl",children:[a.jsx("div",{className:"mb-8",children:a.jsx("h1",{className:"text-batik-brown text-2xl font-bold tracking-tight",children:"Pesanan Berhasil Dibuat"})}),a.jsxs(u,{children:[a.jsxs(h,{children:[a.jsx("div",{className:"mb-4 flex justify-center",children:a.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-green-100",children:a.jsx(g,{className:"h-8 w-8 text-green-600"})})}),a.jsx(p,{className:"text-center text-xl",children:"Terima Kasih Atas Pesanan Anda!"})]}),a.jsxs(f,{children:[a.jsx("div",{className:"mb-6 text-center",children:a.jsx("p",{className:"text-gray-600",children:e.payment_status==="paid"?"Pembayaran Anda telah berhasil diterima.":"Pesanan Anda telah berhasil dibuat dan menunggu pembayaran."})}),a.jsxs("div",{className:"rounded-lg bg-gray-50 p-4",children:[a.jsx("p",{className:"font-medium",children:"Detail Pesanan"}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Nomor Pesanan: ",e.order_number]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Total: ",j(e.total_amount)]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Status:"," ",a.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-medium ${e.payment_status==="paid"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:e.payment_status==="paid"?"Dibayar":"Menunggu Pembayaran"})]}),e.payment_status!=="paid"&&a.jsxs(c,{onClick:r,disabled:s,variant:"outline",size:"sm",className:"mt-2 flex items-center",children:[a.jsx(y,{className:`mr-1 h-3 w-3 ${s?"animate-spin":""}`}),s?"Memeriksa...":"Perbarui Status Pembayaran"]})]})]}),a.jsx(b,{className:"flex justify-center",children:a.jsx(c,{asChild:!0,className:"bg-batik-indigo hover:bg-batik-indigo/90",children:a.jsx("a",{href:"/",children:"Kembali ke Beranda"})})})]})]})})})};export{B as default};
