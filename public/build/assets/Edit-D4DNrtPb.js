import{r,j as e,L as P,S as f}from"./app-K1favnvg.js";import{R as L}from"./RichTextEditor-BVYx4KCB.js";import{I as l,B as v}from"./index-C28HOiqA.js";import{C as R,a as T,b as B,c as I,d as q}from"./card-Cnj5_aHY.js";import{L as i}from"./label-WAJd-hwL.js";import{T as $}from"./textarea-fILSvUAk.js";import{A as K}from"./admin-layout-DnMgeTiV.js";import{S as J}from"./save-DqdQl_Z4.js";/* empty css            */import"./app-sidebar-header-B_652u8X.js";import"./use-initials-66fEdg_d.js";import"./Combination-DP6ee87T.js";import"./app-logo-icon-C-PP6xdY.js";import"./breadcrumb-BE4Jdg1w.js";import"./separator-BxMdQVYU.js";import"./index-BjG0Ec40.js";import"./package-DvQdbTA1.js";import"./pencil-BCbeXhgh.js";function ie({blog:s}){const[o,y]=r.useState(s.title),[d,C]=r.useState(s.excerpt),[c,N]=r.useState(s.content),[m,S]=r.useState(s.category),[p,b]=r.useState(s.author),[u,k]=r.useState(null),[h,F]=r.useState(s.image?`/storage/${s.image}`:null),[x,n]=r.useState(!1),A=[{title:"Dasbor",href:"/admin/dashboard"},{title:"Blog",href:"/admin/blogs"},{title:"Edit",href:`/admin/blogs/${s.id}/edit`}],E=t=>{t.preventDefault(),n(!0);const a=new FormData;a.append("_method","PUT"),a.append("title",o),a.append("excerpt",d),a.append("content",c),a.append("category",m),a.append("author",p),u&&a.append("image",u),f.post(`/admin/blogs/${s.id}`,a,{forceFormData:!0,onSuccess:()=>{n(!1)},onError:()=>{n(!1)}})},w=t=>{if(t.target.files&&t.target.files[0]){const a=t.target.files[0];k(a);const g=new FileReader;g.onload=D=>{var j;F((j=D.target)==null?void 0:j.result)},g.readAsDataURL(a)}};return e.jsxs(K,{breadcrumbs:A,children:[e.jsx(P,{title:`Edit Artikel: ${s.title}`}),e.jsxs("div",{className:"space-y-6 p-3 sm:p-6",children:[e.jsx("div",{className:"flex flex-col justify-between gap-4 sm:flex-row sm:items-center",children:e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Edit Artikel"})}),e.jsx(R,{children:e.jsxs("form",{onSubmit:E,children:[e.jsx(T,{children:e.jsx(B,{children:"Detail Artikel"})}),e.jsxs(I,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"title",children:"Judul"}),e.jsx(l,{id:"title",value:o,onChange:t=>y(t.target.value),placeholder:"Judul Artikel",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"category",children:"Kategori"}),e.jsx(l,{id:"category",value:m,onChange:t=>S(t.target.value),placeholder:"Kategori",required:!0})]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"author",children:"Penulis"}),e.jsx(l,{id:"author",value:p,onChange:t=>b(t.target.value),placeholder:"Nama Penulis",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"image",children:"Gambar Artikel"}),e.jsx(l,{id:"image",type:"file",onChange:w,accept:"image/*"}),h&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:h,alt:"Pratinjau",className:"h-40 rounded-md object-cover"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"excerpt",children:"Ringkasan"}),e.jsx($,{id:"excerpt",value:d,onChange:t=>C(t.target.value),placeholder:"Deskripsi singkat untuk artikel",rows:3,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"content",children:"Konten"}),e.jsx(L,{content:c,onChange:N})]})]}),e.jsxs(q,{className:"flex justify-end space-x-2 border-t px-6 py-4",children:[e.jsx(v,{type:"button",variant:"outline",onClick:()=>f.visit("/admin/blogs"),disabled:x,children:"Batal"}),e.jsxs(v,{type:"submit",disabled:x,children:[e.jsx(J,{className:"mr-2 h-4 w-4"}),"Simpan Perubahan"]})]})]})})]})]})}export{ie as default};
