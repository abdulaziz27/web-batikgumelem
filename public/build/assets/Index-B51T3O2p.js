import{r as n,j as e,L as u,a as g}from"./app-Q9dS00et.js";import{I as m,B as f}from"./index-BQZf-uuE.js";import{C as y,a as _,b,e as v,c as w}from"./card-BENBHJW0.js";import{L as d}from"./label-B7e3O9AC.js";import{S as L,a as C,b as N,c as R,d as i}from"./select-DhSCGI5R.js";import{A as S}from"./admin-layout-BNJm122k.js";import{D as h}from"./download-D0djfi-4.js";/* empty css            */import"./Combination-DF2WeoPk.js";import"./index-BHcF79r8.js";import"./index-BHMeM5Ko.js";import"./chevron-down-CDkaf-1w.js";import"./chevron-up-Byt_vOr7.js";import"./app-sidebar-header-CBy8gzWG.js";import"./use-initials-DGQhOcWX.js";import"./app-logo-icon-Dqw-noQ_.js";import"./breadcrumb-DHuIZVg7.js";import"./separator-Cr2X9xzZ.js";import"./package-Dd6V2RS6.js";import"./pencil-DFKxRa2o.js";const k=[{title:"Dasbor",href:"/admin/dashboard"},{title:"Laporan",href:"/admin/reports"}];function X(){const[a,l]=n.useState({start_date:"",end_date:""}),[o,x]=n.useState("daily"),[c,p]=n.useState(!1),j=async()=>{if(!(!a.start_date||!a.end_date)){p(!0);try{const t=await g.get("/admin/reports/sales",{params:{start_date:a.start_date,end_date:a.end_date,type:o,format:"pdf"},responseType:"blob"}),r=window.URL.createObjectURL(new Blob([t.data])),s=document.createElement("a");s.href=r,s.setAttribute("download","sales-report.pdf"),document.body.appendChild(s),s.click(),s.remove(),window.URL.revokeObjectURL(r)}catch(t){console.error("Error downloading report:",t)}finally{p(!1)}}};return e.jsxs(S,{breadcrumbs:k,children:[e.jsx(u,{title:"Laporan Penjualan"}),e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsx("div",{className:"flex flex-col space-y-2 md:flex-row md:items-center md:justify-between md:space-y-0",children:e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Laporan Penjualan"})}),e.jsxs(y,{children:[e.jsxs(_,{children:[e.jsx(b,{children:"Unduh Laporan"}),e.jsx(v,{children:"Pilih rentang tanggal dan tipe laporan yang diinginkan"})]}),e.jsx(w,{children:e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"start_date",children:"Tanggal Mulai"}),e.jsx(m,{id:"start_date",type:"date",value:a.start_date,onChange:t=>l(r=>({...r,start_date:t.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"end_date",children:"Tanggal Akhir"}),e.jsx(m,{id:"end_date",type:"date",value:a.end_date,onChange:t=>l(r=>({...r,end_date:t.target.value}))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"report_type",children:"Tipe Laporan"}),e.jsxs(L,{value:o,onValueChange:x,children:[e.jsx(C,{children:e.jsx(N,{placeholder:"Pilih tipe laporan"})}),e.jsxs(R,{children:[e.jsx(i,{value:"daily",children:"Harian"}),e.jsx(i,{value:"weekly",children:"Mingguan"}),e.jsx(i,{value:"monthly",children:"Bulanan"})]})]})]}),e.jsx(f,{onClick:j,disabled:c||!a.start_date||!a.end_date,className:"w-full md:w-auto",children:c?e.jsxs(e.Fragment,{children:[e.jsx(h,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):e.jsxs(e.Fragment,{children:[e.jsx(h,{className:"mr-2 h-4 w-4"}),"Unduh Laporan"]})})]})})]})]})]})}export{X as default};
