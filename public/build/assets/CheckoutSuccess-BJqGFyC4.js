import{r as i,u as d,S as o,j as e}from"./app-C8Sg5s2D.js";import{L as x}from"./Layout-DUeHlWHd.js";import{c as h,B as l}from"./index-C-S3fGAe.js";import{C as u,a as p,b as f,c as j,d as y}from"./card-CopSugPh.js";import{f as b}from"./formatters-BdPsR_AQ.js";import{b as g}from"./use-initials-DV9zzRH8.js";/* empty css            */import"./map-pin-BkobWDjU.js";import"./badge-sxevUz_k.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],k=h("RefreshCw",N),L=({order:a})=>{const[t,r]=i.useState(!1),{clearCart:c}=d();i.useEffect(()=>{c(),localStorage.removeItem("cart")},[]),i.useEffect(()=>{let n=null;if(a.payment_status!=="paid"){const m=setTimeout(()=>{s(),n=setInterval(s,2e4)},5e3);return()=>{clearTimeout(m),n&&clearInterval(n)}}},[a.payment_status]);const s=()=>{t||(r(!0),o.visit(`/checkout/check-status/${a.id}`,{onFinish:()=>r(!1)}))};return e.jsx(x,{children:e.jsx("div",{className:"container mx-auto px-4 py-12 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"mx-auto max-w-3xl",children:[e.jsx("div",{className:"mb-8",children:e.jsx("h1",{className:"text-batik-brown text-2xl font-bold tracking-tight",children:"Pesanan Berhasil"})}),e.jsxs(u,{children:[e.jsxs(p,{children:[e.jsx("div",{className:"mb-4 flex justify-center",children:e.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-green-100",children:e.jsx(g,{className:"h-8 w-8 text-green-600"})})}),e.jsx(f,{className:"text-center text-xl",children:"Terima Kasih Atas Pesanan Anda!"})]}),e.jsxs(j,{children:[e.jsx("div",{className:"mb-6 text-center",children:e.jsx("p",{className:"text-gray-600",children:a.payment_status==="paid"?"Pembayaran Anda telah berhasil diterima.":"Pesanan Anda telah berhasil dibuat dan menunggu pembayaran."})}),e.jsxs("div",{className:"rounded-lg bg-gray-50 p-4",children:[e.jsx("p",{className:"font-medium",children:"Detail Pesanan"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Nomor Pesanan: ",a.order_number]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Total: ",b(a.total_amount)]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Status:"," ",e.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-medium ${a.payment_status==="paid"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:a.payment_status==="paid"?"Dibayar":"Menunggu Pembayaran"})]}),a.payment_status!=="paid"&&e.jsxs(l,{onClick:s,disabled:t,variant:"outline",size:"sm",className:"mt-2 flex items-center",children:[e.jsx(k,{className:`mr-1 h-3 w-3 ${t?"animate-spin":""}`}),t?"Memeriksa...":"Perbarui Status Pembayaran"]})]})]}),e.jsx(y,{className:"flex justify-center",children:e.jsx(l,{asChild:!0,className:"bg-batik-indigo hover:bg-batik-indigo/90",children:e.jsx("a",{href:"/",children:"Kembali ke Beranda"})})})]})]})})})};export{L as default};
