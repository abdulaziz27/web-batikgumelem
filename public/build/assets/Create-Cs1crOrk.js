import{r as s,j as e,L as w,S as j}from"./app-Q9dS00et.js";import{R as D}from"./RichTextEditor-C9UJBJXS.js";import{I as i,B as f}from"./index-BQZf-uuE.js";import{C as L,a as R,b as q,c as E,d as I}from"./card-BENBHJW0.js";import{L as r}from"./label-B7e3O9AC.js";import{T as P}from"./textarea-Bj_ySKTN.js";import{A as T}from"./admin-layout-BNJm122k.js";import{S as K}from"./save-BmQZlouh.js";/* empty css            */import"./app-sidebar-header-CBy8gzWG.js";import"./use-initials-DGQhOcWX.js";import"./Combination-DF2WeoPk.js";import"./app-logo-icon-Dqw-noQ_.js";import"./breadcrumb-DHuIZVg7.js";import"./separator-Cr2X9xzZ.js";import"./index-BHMeM5Ko.js";import"./package-Dd6V2RS6.js";import"./pencil-DFKxRa2o.js";const J=[{title:"Dasbor",href:"/admin/dashboard"},{title:"Blog",href:"/admin/blogs"},{title:"Buat",href:"/admin/blogs/create"}];function re(){const[o,v]=s.useState(""),[n,b]=s.useState(""),[c,y]=s.useState(""),[d,C]=s.useState(""),[m,N]=s.useState(""),[u,S]=s.useState(null),[p,k]=s.useState(null),[h,l]=s.useState(!1),A=t=>{t.preventDefault(),l(!0);const a=new FormData;a.append("title",o),a.append("excerpt",n),a.append("content",c),a.append("category",d),a.append("author",m),u&&a.append("image",u),j.post("/admin/blogs",a,{forceFormData:!0,onSuccess:()=>{l(!1)},onError:()=>{l(!1)}})},B=t=>{if(t.target.files&&t.target.files[0]){const a=t.target.files[0];S(a);const x=new FileReader;x.onload=F=>{var g;k((g=F.target)==null?void 0:g.result)},x.readAsDataURL(a)}};return e.jsxs(T,{breadcrumbs:J,children:[e.jsx(w,{title:"Buat Artikel Blog"}),e.jsxs("div",{className:"space-y-6 p-3 sm:p-6",children:[e.jsx("div",{className:"flex flex-col justify-between gap-4 sm:flex-row sm:items-center",children:e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Buat Artikel Blog"})}),e.jsx(L,{children:e.jsxs("form",{onSubmit:A,children:[e.jsx(R,{children:e.jsx(q,{children:"Detail Artikel"})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"title",children:"Judul"}),e.jsx(i,{id:"title",value:o,onChange:t=>v(t.target.value),placeholder:"Judul Artikel",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"category",children:"Kategori"}),e.jsx(i,{id:"category",value:d,onChange:t=>C(t.target.value),placeholder:"Kategori",required:!0})]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"author",children:"Penulis"}),e.jsx(i,{id:"author",value:m,onChange:t=>N(t.target.value),placeholder:"Nama Penulis",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"image",children:"Gambar Artikel"}),e.jsx(i,{id:"image",type:"file",onChange:B,accept:"image/*",required:!0}),p&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:p,alt:"Pratinjau",className:"h-40 rounded-md object-cover"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"excerpt",children:"Ringkasan"}),e.jsx(P,{id:"excerpt",value:n,onChange:t=>b(t.target.value),placeholder:"Deskripsi singkat untuk artikel",rows:3,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"content",children:"Konten"}),e.jsx(D,{content:c,onChange:y})]})]}),e.jsxs(I,{className:"flex justify-end space-x-2 border-t px-6 py-4",children:[e.jsx(f,{type:"button",variant:"outline",onClick:()=>j.visit("/admin/blogs"),disabled:h,children:"Batal"}),e.jsxs(f,{type:"submit",disabled:h,children:[e.jsx(K,{className:"mr-2 h-4 w-4"}),"Simpan Artikel"]})]})]})})]})]})}export{re as default};
