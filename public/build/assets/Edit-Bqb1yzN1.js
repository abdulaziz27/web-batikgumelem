import{r,j as e,L as k,S as f}from"./app-rImy3gZT.js";import{R as L}from"./RichTextEditor-BRF2sSTp.js";import{I as l,B as v}from"./index-Bdlz4M_o.js";import{C as R,a as T,b as I,c as q,d as A}from"./card-Cuy3nzY6.js";import{L as i}from"./label-C9G3gqy2.js";import{T as $}from"./textarea-B6mUzlv_.js";import{A as K}from"./admin-layout-DU3y_xgX.js";import{S as U}from"./save-BaclSbR5.js";/* empty css            */import"./app-sidebar-header-BcWl8kWB.js";import"./use-initials-BbuuFBUP.js";import"./Combination-Ch-U0Asv.js";import"./app-logo-icon-BTEMKZVK.js";import"./breadcrumb-8_6pmLZ2.js";import"./separator-GMhAo5go.js";import"./index-DaXdPf2M.js";import"./package-HzhcpqVq.js";import"./pencil-c70Ezx40.js";function ie({blog:s}){const[n,y]=r.useState(s.title),[d,C]=r.useState(s.excerpt),[c,N]=r.useState(s.content),[m,b]=r.useState(s.category),[p,S]=r.useState(s.author),[u,B]=r.useState(null),[h,F]=r.useState(s.image?`/storage/${s.image}`:null),[x,o]=r.useState(!1),E=[{title:"Dasbor",href:"/admin/dashboard"},{title:"Blog",href:"/admin/blogs"},{title:"Edit",href:`/admin/blogs/${s.id}/edit`}],w=t=>{t.preventDefault(),o(!0);const a=new FormData;a.append("_method","PUT"),a.append("title",n),a.append("excerpt",d),a.append("content",c),a.append("category",m),a.append("author",p),u&&a.append("image",u),f.post(`/admin/blogs/${s.id}`,a,{forceFormData:!0,onSuccess:()=>{o(!1)},onError:()=>{o(!1)}})},D=t=>{if(t.target.files&&t.target.files[0]){const a=t.target.files[0];B(a);const g=new FileReader;g.onload=P=>{var j;F((j=P.target)==null?void 0:j.result)},g.readAsDataURL(a)}};return e.jsxs(K,{breadcrumbs:E,children:[e.jsx(k,{title:`Edit Blog: ${s.title}`}),e.jsxs("div",{className:"space-y-6 p-3 sm:p-6",children:[e.jsx("div",{className:"flex flex-col justify-between gap-4 sm:flex-row sm:items-center",children:e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Edit Blog"})}),e.jsx(R,{children:e.jsxs("form",{onSubmit:w,children:[e.jsx(T,{children:e.jsx(I,{children:"Detail Blog"})}),e.jsxs(q,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"title",children:"Judul"}),e.jsx(l,{id:"title",value:n,onChange:t=>y(t.target.value),placeholder:"Judul Blog",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"category",children:"Kategori"}),e.jsx(l,{id:"category",value:m,onChange:t=>b(t.target.value),placeholder:"Kategori",required:!0})]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"author",children:"Penulis"}),e.jsx(l,{id:"author",value:p,onChange:t=>S(t.target.value),placeholder:"Nama Penulis",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"image",children:"Gambar Utama"}),e.jsx(l,{id:"image",type:"file",onChange:D,accept:"image/*"}),h&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:h,alt:"Pratinjau",className:"h-40 rounded-md object-cover"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"excerpt",children:"Ringkasan"}),e.jsx($,{id:"excerpt",value:d,onChange:t=>C(t.target.value),placeholder:"Deskripsi singkat untuk blog",rows:3,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"content",children:"Konten"}),e.jsx(L,{content:c,onChange:N})]})]}),e.jsxs(A,{className:"flex justify-end space-x-2 border-t px-6 py-4",children:[e.jsx(v,{type:"button",variant:"outline",onClick:()=>f.visit("/admin/blogs"),disabled:x,children:"Batal"}),e.jsxs(v,{type:"submit",disabled:x,children:[e.jsx(U,{className:"mr-2 h-4 w-4"}),"Perbarui Blog"]})]})]})})]})]})}export{ie as default};
