import{r as n,u as o,S as d,j as e}from"./app-rImy3gZT.js";import{L as x}from"./Layout-CZ6qMPL4.js";import{c as h,B as l}from"./index-Bdlz4M_o.js";import{C as u,a as p,b as f,c as y,d as j}from"./card-Cuy3nzY6.js";import{f as b}from"./formatters-BdPsR_AQ.js";import{C as g}from"./Combination-Ch-U0Asv.js";/* empty css            */import"./use-initials-BbuuFBUP.js";import"./map-pin-BSZyOi6U.js";import"./badge-CcOASLXD.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],N=h("RefreshCw",C),L=({order:a})=>{const[s,i]=n.useState(!1);let c=()=>{};try{c=o().clearCart}catch{console.warn("Cart provider not available, using fallback")}n.useEffect(()=>{try{c()}catch(t){console.warn("Error clearing cart:",t)}},[]),n.useEffect(()=>{let t=null;if(a.payment_status!=="paid"){const m=setTimeout(()=>{r(),t=setInterval(r,2e4)},5e3);return()=>{clearTimeout(m),t&&clearInterval(t)}}},[a.payment_status]);const r=()=>{s||(i(!0),d.visit(`/checkout/check-status/${a.id}`,{onFinish:()=>i(!1)}))};return e.jsx(x,{children:e.jsx("div",{className:"container mx-auto px-4 py-12 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"mx-auto max-w-3xl",children:[e.jsx("div",{className:"mb-8",children:e.jsx("h1",{className:"text-batik-brown text-2xl font-bold tracking-tight",children:"Pesanan Berhasil"})}),e.jsxs(u,{children:[e.jsxs(p,{children:[e.jsx("div",{className:"mb-4 flex justify-center",children:e.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-green-100",children:e.jsx(g,{className:"h-8 w-8 text-green-600"})})}),e.jsx(f,{className:"text-center text-xl",children:"Terima Kasih Atas Pesanan Anda!"})]}),e.jsxs(y,{children:[e.jsx("div",{className:"mb-6 text-center",children:e.jsx("p",{className:"text-gray-600",children:a.payment_status==="paid"?"Pembayaran Anda telah berhasil diterima.":"Pesanan Anda telah berhasil dibuat dan menunggu pembayaran."})}),e.jsxs("div",{className:"rounded-lg bg-gray-50 p-4",children:[e.jsx("p",{className:"font-medium",children:"Detail Pesanan"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Nomor Pesanan: ",a.order_number]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Total: ",b(a.total_amount)]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Status:"," ",e.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-medium ${a.payment_status==="paid"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:a.payment_status==="paid"?"Dibayar":"Menunggu Pembayaran"})]}),a.payment_status!=="paid"&&e.jsxs(l,{onClick:r,disabled:s,variant:"outline",size:"sm",className:"mt-2 flex items-center",children:[e.jsx(N,{className:`mr-1 h-3 w-3 ${s?"animate-spin":""}`}),s?"Memeriksa...":"Perbarui Status Pembayaran"]})]})]}),e.jsx(j,{className:"flex justify-center",children:e.jsx(l,{asChild:!0,className:"bg-batik-indigo hover:bg-batik-indigo/90",children:e.jsx("a",{href:"/",children:"Kembali ke Beranda"})})})]})]})})})};export{L as default};
