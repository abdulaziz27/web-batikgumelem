import{r as a,j as e,L as D,S as j}from"./app-C7f-Vn9y.js";import{R as T}from"./RichTextEditor-mCr6LbPo.js";import{I as o,B as f}from"./index-2OHqHrXP.js";import{C as A,a as E,b as I,c as L,d as q}from"./card-gSUWlYUD.js";import{L as r}from"./label-Z-soE218.js";import{T as R}from"./textarea-C4SsOP6_.js";import{A as k}from"./admin-layout-CzsCq2vc.js";import{S as H}from"./save-DdvD0khv.js";/* empty css            */import"./app-sidebar-header-PjA1uaAs.js";import"./use-initials-BNFSJEFy.js";import"./Combination-CXkpnI0d.js";import"./app-logo-icon-C0NCbKwH.js";import"./breadcrumb-Cok-6nBG.js";import"./separator-CHxrOjW2.js";import"./index-NiHpsEw_.js";import"./package-OUqoKet4.js";import"./pencil-D65pnnxM.js";const U=[{title:"Dashboard",href:"/admin/dashboard"},{title:"Blogs",href:"/admin/blogs"},{title:"Create",href:"/admin/blogs/create"}];function re(){const[l,v]=a.useState(""),[n,C]=a.useState(""),[c,b]=a.useState(""),[d,y]=a.useState(""),[m,S]=a.useState(""),[p,N]=a.useState(null),[h,F]=a.useState(null),[u,i]=a.useState(!1),w=t=>{t.preventDefault(),i(!0);const s=new FormData;s.append("title",l),s.append("excerpt",n),s.append("content",c),s.append("category",d),s.append("author",m),p&&s.append("image",p),j.post("/admin/blogs",s,{forceFormData:!0,onSuccess:()=>{i(!1)},onError:()=>{i(!1)}})},B=t=>{if(t.target.files&&t.target.files[0]){const s=t.target.files[0];N(s);const x=new FileReader;x.onload=P=>{var g;F((g=P.target)==null?void 0:g.result)},x.readAsDataURL(s)}};return e.jsxs(k,{breadcrumbs:U,children:[e.jsx(D,{title:"Create Blog Post"}),e.jsxs("div",{className:"space-y-6 p-3 sm:p-6",children:[e.jsx("div",{className:"flex flex-col justify-between gap-4 sm:flex-row sm:items-center",children:e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Create Blog Post"})}),e.jsx(A,{children:e.jsxs("form",{onSubmit:w,children:[e.jsx(E,{children:e.jsx(I,{children:"Blog Post Details"})}),e.jsxs(L,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"title",children:"Title"}),e.jsx(o,{id:"title",value:l,onChange:t=>v(t.target.value),placeholder:"Blog Post Title",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"category",children:"Category"}),e.jsx(o,{id:"category",value:d,onChange:t=>y(t.target.value),placeholder:"Category",required:!0})]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"author",children:"Author"}),e.jsx(o,{id:"author",value:m,onChange:t=>S(t.target.value),placeholder:"Author Name",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"image",children:"Featured Image"}),e.jsx(o,{id:"image",type:"file",onChange:B,accept:"image/*",required:!0}),h&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:h,alt:"Preview",className:"h-40 rounded-md object-cover"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"excerpt",children:"Excerpt"}),e.jsx(R,{id:"excerpt",value:n,onChange:t=>C(t.target.value),placeholder:"Short description for the blog post",rows:3,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"content",children:"Content"}),e.jsx(T,{content:c,onChange:b})]})]}),e.jsxs(q,{className:"flex justify-end space-x-2 border-t px-6 py-4",children:[e.jsx(f,{type:"button",variant:"outline",onClick:()=>j.visit("/admin/blogs"),disabled:u,children:"Cancel"}),e.jsxs(f,{type:"submit",disabled:u,children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Save Post"]})]})]})})]})]})}export{re as default};
