import{r,j as e,L as D,S as f}from"./app-C8Sg5s2D.js";import{R as A}from"./RichTextEditor-CvEN9EHF.js";import{I as o,B as v}from"./index-C-S3fGAe.js";import{C as I,a as L,b as R,c as q,d as $}from"./card-CopSugPh.js";import{L as i}from"./label-sEb2dTbR.js";import{T as U}from"./textarea-Cj6oACzM.js";import{A as k}from"./admin-layout-DWpYYCAq.js";import{S as H}from"./save-BhfCpNTr.js";/* empty css            */import"./app-sidebar-header-DRO6VPKv.js";import"./use-initials-DV9zzRH8.js";import"./app-logo-icon-CmBQv6fc.js";import"./breadcrumb-B_Y8H_sI.js";import"./separator-CYLCqqUC.js";import"./index-CHkRdNmJ.js";import"./package-BJgREm61.js";import"./pencil-DsSaDhYt.js";function re({blog:a}){const[n,y]=r.useState(a.title),[d,C]=r.useState(a.excerpt),[c,N]=r.useState(a.content),[m,S]=r.useState(a.category),[p,b]=r.useState(a.author),[h,F]=r.useState(null),[u,E]=r.useState(a.image?`/storage/${a.image}`:null),[x,l]=r.useState(!1),w=[{title:"Dashboard",href:"/admin/dashboard"},{title:"Blogs",href:"/admin/blogs"},{title:"Edit",href:`/admin/blogs/${a.id}/edit`}],B=t=>{t.preventDefault(),l(!0);const s=new FormData;s.append("_method","PUT"),s.append("title",n),s.append("excerpt",d),s.append("content",c),s.append("category",m),s.append("author",p),h&&s.append("image",h),f.post(`/admin/blogs/${a.id}`,s,{forceFormData:!0,onSuccess:()=>{l(!1)},onError:()=>{l(!1)}})},P=t=>{if(t.target.files&&t.target.files[0]){const s=t.target.files[0];F(s);const g=new FileReader;g.onload=T=>{var j;E((j=T.target)==null?void 0:j.result)},g.readAsDataURL(s)}};return e.jsxs(k,{breadcrumbs:w,children:[e.jsx(D,{title:`Edit Blog: ${a.title}`}),e.jsxs("div",{className:"space-y-6 p-3 sm:p-6",children:[e.jsx("div",{className:"flex flex-col justify-between gap-4 sm:flex-row sm:items-center",children:e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Edit Blog Post"})}),e.jsx(I,{children:e.jsxs("form",{onSubmit:B,children:[e.jsx(L,{children:e.jsx(R,{children:"Blog Post Details"})}),e.jsxs(q,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"title",children:"Title"}),e.jsx(o,{id:"title",value:n,onChange:t=>y(t.target.value),placeholder:"Blog Post Title",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"category",children:"Category"}),e.jsx(o,{id:"category",value:m,onChange:t=>S(t.target.value),placeholder:"Category",required:!0})]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"author",children:"Author"}),e.jsx(o,{id:"author",value:p,onChange:t=>b(t.target.value),placeholder:"Author Name",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"image",children:"Featured Image"}),e.jsx(o,{id:"image",type:"file",onChange:P,accept:"image/*"}),u&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:u,alt:"Preview",className:"h-40 rounded-md object-cover"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"excerpt",children:"Excerpt"}),e.jsx(U,{id:"excerpt",value:d,onChange:t=>C(t.target.value),placeholder:"Short description for the blog post",rows:3,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"content",children:"Content"}),e.jsx(A,{content:c,onChange:N})]})]}),e.jsxs($,{className:"flex justify-end space-x-2 border-t px-6 py-4",children:[e.jsx(v,{type:"button",variant:"outline",onClick:()=>f.visit("/admin/blogs"),disabled:x,children:"Cancel"}),e.jsxs(v,{type:"submit",disabled:x,children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Update Post"]})]})]})})]})]})}export{re as default};
