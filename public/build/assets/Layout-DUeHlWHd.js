import{e as B,r as m,j as e,K as M,c as D,$ as s,u as I}from"./app-C8Sg5s2D.js";import{c as l,B as d,I as $}from"./index-C-S3fGAe.js";import{X as v,p as P,q as F,r as L,s as q,t as K,v as T,w as G,x as U,y as z,z as O,B as N,S as w}from"./use-initials-DV9zzRH8.js";import{M as H}from"./map-pin-BkobWDjU.js";import{B as y}from"./badge-sxevUz_k.js";async function Q(t){try{return(await B.post("/api/ai-chat",{question:t})).data.answer}catch{return"Maaf, terjadi gangguan teknis. Silakan coba lagi atau hubungi admin."}}/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],E=l("Facebook",Y);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],V=l("Instagram",R);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],W=l("Mail",J);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],Z=l("Menu",X);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],se=l("MessageSquare",ee);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],te=l("Phone",ae);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],ne=l("Send",re);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],C=l("User",ie);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],oe=l("Youtube",le),ce=()=>{const[t,r]=m.useState(!1),[c,b]=m.useState(""),[a,h]=m.useState([{id:1,text:"Halo! Selamat datang di Batik Gumelem. Ada yang bisa saya bantu?",sender:"bot",timestamp:new Date}]),[x,g]=m.useState(!1),u=()=>{r(!t)},j=async n=>{if(n.preventDefault(),!c.trim())return;const p={id:a.length+1,text:c,sender:"user",timestamp:new Date};h(o=>[...o,p]),b(""),g(!0);try{const o=await Q(c),f={id:a.length+2,text:o,sender:"bot",timestamp:new Date};h(k=>[...k,f])}catch{h(o=>[...o,{id:a.length+2,text:"Maaf, terjadi gangguan teknis. Silakan coba lagi atau hubungi admin.",sender:"bot",timestamp:new Date}])}finally{g(!1)}};return e.jsxs("div",{className:"fixed right-6 bottom-6 z-50",children:[e.jsx(d,{onClick:u,className:`flex h-14 w-14 items-center justify-center rounded-full shadow-lg ${t?"bg-red-500 hover:bg-red-600":"bg-batik-indigo hover:bg-batik-indigo/90"}`,size:"icon","aria-label":"Chat dengan kami",children:t?e.jsx(v,{className:"h-6 w-6"}):e.jsx(se,{className:"h-6 w-6"})}),t&&e.jsxs("div",{className:"absolute right-0 bottom-20 w-80 overflow-hidden rounded-lg border bg-white shadow-2xl sm:w-96",children:[e.jsxs("div",{className:"bg-batik-indigo flex items-center justify-between p-4",children:[e.jsx("h2",{className:"font-medium text-white",children:"Chat dengan Kami"}),e.jsx(d,{variant:"ghost",size:"icon",onClick:u,className:"hover:bg-batik-indigo/80 text-white",children:e.jsx(v,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"flex h-96 flex-col",children:[e.jsx("div",{className:"flex-1 space-y-4 overflow-y-auto p-4",children:a.map(n=>e.jsx("div",{className:`flex ${n.sender==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 ${n.sender==="user"?"bg-batik-indigo rounded-tr-none text-white":"rounded-tl-none bg-gray-100 text-gray-800"}`,children:[n.sender==="bot"&&e.jsxs("div",{className:"mb-1 flex items-center",children:[e.jsx("div",{className:"bg-batik-brown mr-1 flex h-5 w-5 items-center justify-center rounded-full",children:e.jsx(C,{className:"h-3 w-3 text-white"})}),e.jsx("span",{className:"text-xs font-semibold",children:"Admin"})]}),e.jsx("p",{className:"text-sm",children:n.text}),e.jsx("span",{className:"mt-1 block text-right text-xs opacity-70",children:n.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},n.id))}),e.jsxs("form",{onSubmit:j,className:"flex items-center gap-2 border-t p-3",children:[e.jsx($,{value:c,onChange:n=>b(n.target.value),placeholder:"Tulis pesan...",className:"flex-1",disabled:x}),e.jsx(d,{type:"submit",size:"icon",className:"bg-batik-indigo hover:bg-batik-indigo/90",disabled:!c.trim()||x,children:x?e.jsx("span",{className:"animate-spin",children:"..."}):e.jsx(ne,{className:"h-4 w-4"})})]})]})]})]})},de=({children:t})=>{const{message:r}=M().props;return m.useEffect(()=>{r&&D(r)},[r]),e.jsx(e.Fragment,{children:t})},xe=()=>e.jsx("footer",{className:"bg-batik-cream/50 batik-pattern",children:e.jsxs("div",{className:"container mx-auto px-6 py-12",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-batik-brown font-serif text-2xl font-bold",children:["Batik",e.jsx("span",{className:"text-batik-indigo",children:"Gumelem"})]}),e.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Melestarikan warisan budaya Batik Gumelem dari Banjarnegara, Jawa Tengah. Setiap kain batik kami dibuat dengan teknik tradisional dan mengandung filosofi mendalam."}),e.jsxs("div",{className:"mt-6 flex space-x-4",children:[e.jsxs("a",{href:"https://www.tokopedia.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-batik-indigo text-gray-500 transition-colors",children:[e.jsx("span",{className:"sr-only",children:"Tokopedia"}),e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5",children:[e.jsx("path",{d:"M9 10V6a3 3 0 0 1 3-3v0a3 3 0 0 1 3 3v4"}),e.jsx("path",{d:"M7 11v5a6 6 0 0 0 12 0v-5"}),e.jsx("rect",{width:"18",height:"11",x:"3",y:"3",rx:"2"}),e.jsx("path",{d:"M12 19v3"}),e.jsx("path",{d:"M10 22h4"})]})]}),e.jsxs("a",{href:"https://www.youtube.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-batik-indigo text-gray-500 transition-colors",children:[e.jsx("span",{className:"sr-only",children:"Youtube"}),e.jsx(oe,{className:"h-5 w-5"})]}),e.jsxs("a",{href:"https://www.instagram.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-batik-indigo text-gray-500 transition-colors",children:[e.jsx("span",{className:"sr-only",children:"Instagram"}),e.jsx(V,{className:"h-5 w-5"})]}),e.jsxs("a",{href:"https://www.facebook.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-batik-indigo text-gray-500 transition-colors",children:[e.jsx("span",{className:"sr-only",children:"Facebook"}),e.jsx(E,{className:"h-5 w-5"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-batik-brown text-sm font-semibold tracking-wider uppercase",children:"Quick Links"}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsx(s,{href:"/",className:"hover:text-batik-indigo block text-sm text-gray-600",children:"Beranda"}),e.jsx(s,{href:"/history",className:"hover:text-batik-indigo block text-sm text-gray-600",children:"Sejarah"}),e.jsx(s,{href:"/products",className:"hover:text-batik-indigo block text-sm text-gray-600",children:"Produk"}),e.jsx(s,{href:"/blog",className:"hover:text-batik-indigo block text-sm text-gray-600",children:"Blog"}),e.jsx(s,{href:"/faq",className:"hover:text-batik-indigo block text-sm text-gray-600",children:"FAQ"}),e.jsx(s,{href:"/about",className:"hover:text-batik-indigo block text-sm text-gray-600",children:"Tentang Kami"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-batik-brown text-sm font-semibold tracking-wider uppercase",children:"Customer Service"}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsx(s,{href:"/faq",className:"hover:text-batik-indigo block text-sm text-gray-600",children:"FAQ"}),e.jsx(s,{href:"/shipping",className:"hover:text-batik-indigo block text-sm text-gray-600",children:"Shipping & Returns"}),e.jsx(s,{href:"/terms",className:"hover:text-batik-indigo block text-sm text-gray-600",children:"Terms & Conditions"}),e.jsx(s,{href:"/privacy",className:"hover:text-batik-indigo block text-sm text-gray-600",children:"Privacy Policy"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-batik-brown text-sm font-semibold tracking-wider uppercase",children:"Contact Us"}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(H,{className:"text-batik-indigo mr-3 h-5 w-5"})}),e.jsx("p",{className:"text-sm text-gray-600",children:"Desa Gumelem Kulon, Kecamatan Susukan, Kabupaten Banjarnegara, Jawa Tengah"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(te,{className:"text-batik-indigo mr-3 h-5 w-5"})}),e.jsx("p",{className:"text-sm text-gray-600",children:"+62 852 1155 3430"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(W,{className:"text-batik-indigo mr-3 h-5 w-5"})}),e.jsx("p",{className:"text-sm text-gray-600",children:"info@batikgumelem.com"})]})]})]})]}),e.jsx("div",{className:"border-batik-brown/10 mt-8 border-t pt-8",children:e.jsxs("p",{className:"text-center text-xs text-gray-500",children:["Â© ",new Date().getFullYear()," BatikGumelem. All rights reserved."]})})]})}),me=()=>{var j,n,p,o,f,k,S,_;const[t,r]=m.useState(!1),{url:c}=M(),{cartItems:b}=I(),{auth:a}=M().props,h=P(),x=b.reduce((i,A)=>i+A.quantity,0),g=[{name:"Beranda",href:"/"},{name:"Sejarah",href:"/history"},{name:"Produk",href:"/products"},{name:"Blog",href:"/blog"},{name:"FAQ",href:"/faq"},{name:"Tentang Kami",href:"/about"}],u=i=>c===i;return e.jsxs("header",{className:"bg-background/95 supports-[backdrop-filter]:bg-background/60 sticky top-0 z-50 w-full backdrop-blur",children:[e.jsx("nav",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex h-20 items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(s,{href:"/",className:"flex-shrink-0",children:e.jsxs("h1",{className:"text-batik-brown font-serif text-2xl font-bold",children:["Batik",e.jsx("span",{className:"text-batik-indigo",children:"Gumelem"})]})}),e.jsx("div",{className:"hidden md:ml-10 md:block",children:e.jsx("div",{className:"flex space-x-8",children:g.map(i=>e.jsx(s,{href:i.href,className:`${u(i.href)?"text-batik-indigo font-semibold":"text-batik-brown hover:text-batik-indigo"} px-3 py-2 text-sm font-medium transition-colors`,children:i.name},i.name))})})]}),e.jsxs("div",{className:"flex items-center",children:[a.user?e.jsxs(F,{children:[e.jsx(L,{asChild:!0,children:e.jsxs(d,{variant:"ghost",size:"sm",className:"mr-4 hidden items-center md:flex",children:[e.jsxs(q,{className:"h-8 w-8",children:[e.jsx(K,{src:a.user.avatar,alt:a.user.name}),e.jsx(T,{className:"bg-batik-indigo text-white",children:h(a.user.name)})]}),e.jsx("span",{className:"text-sm font-medium",children:a.user.name})]})}),e.jsxs(G,{className:"w-56",align:"end",forceMount:!0,children:[e.jsx(U,{className:"font-normal",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("p",{className:"text-sm leading-none font-medium",children:(j=a.user)==null?void 0:j.name}),e.jsx("p",{className:"text-muted-foreground text-xs leading-none",children:(n=a.user)==null?void 0:n.email}),e.jsxs("div",{className:"mt-1.5 flex gap-1.5",children:[((o=(p=a.user)==null?void 0:p.roles)==null?void 0:o.includes("admin"))&&e.jsx(y,{variant:"outline",className:"border-red-200 bg-red-50 text-red-700",children:"Admin"}),((k=(f=a.user)==null?void 0:f.roles)==null?void 0:k.includes("user"))&&e.jsx(y,{variant:"outline",className:"border-blue-200 bg-blue-50 text-blue-700",children:"User"})]})]})}),e.jsx(z,{}),e.jsxs(O,{children:[e.jsx(N,{asChild:!0,children:e.jsxs(s,{href:"settings/profile",className:"flex w-full cursor-pointer items-center",children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Profile"})]})}),(_=(S=a.user)==null?void 0:S.roles)!=null&&_.includes("admin")?e.jsx(N,{asChild:!0,children:e.jsxs(s,{href:"/admin/dashboard",className:"flex w-full cursor-pointer items-center",children:[e.jsx(w,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Dashboard Admin"})]})}):e.jsx(N,{asChild:!0,children:e.jsxs(s,{href:"/orders",className:"flex w-full cursor-pointer items-center",children:[e.jsx(w,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Pesanan Saya"})]})})]}),e.jsx(z,{}),e.jsx(N,{asChild:!0,children:e.jsxs(s,{href:"/logout",method:"post",as:"button",className:"flex w-full cursor-pointer items-center text-red-600 hover:text-red-700 focus:text-red-700",children:[e.jsx(v,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Keluar"})]})})]})]}):e.jsx(s,{href:"/login",className:"mr-4 hidden md:block",children:e.jsxs(d,{variant:"ghost",size:"sm",className:"flex items-center",children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),"Masuk"]})}),e.jsxs(s,{href:"/cart",className:"relative mr-4",children:[e.jsx(d,{variant:"ghost",size:"icon",children:e.jsx(w,{className:"h-5 w-5"})}),x>0&&e.jsx(y,{className:"bg-batik-indigo absolute -top-1 -right-1 text-white",children:x})]}),e.jsx("div",{className:"-mr-2 flex md:hidden",children:e.jsxs(d,{variant:"ghost",size:"icon",onClick:()=>r(!t),children:[e.jsx("span",{className:"sr-only",children:"Open main menu"}),t?e.jsx(v,{className:"block h-6 w-6","aria-hidden":"true"}):e.jsx(Z,{className:"block h-6 w-6","aria-hidden":"true"})]})})]})]})}),t&&e.jsx("div",{className:"md:hidden",children:e.jsxs("div",{className:"space-y-1 px-2 pt-2 pb-3 sm:px-3",children:[g.map(i=>e.jsx(s,{href:i.href,className:`${u(i.href)?"bg-batik-cream text-batik-indigo":"text-batik-brown hover:bg-batik-cream hover:text-batik-indigo"} block rounded-md px-3 py-2 text-base font-medium`,onClick:()=>r(!1),children:i.name},i.name)),a.user?e.jsxs(e.Fragment,{children:[e.jsx(s,{href:"/profile",className:"text-batik-brown hover:bg-batik-cream hover:text-batik-indigo block rounded-md px-3 py-2 text-base font-medium",onClick:()=>r(!1),children:"Profil"}),e.jsx(s,{href:"/orders",className:"text-batik-brown hover:bg-batik-cream hover:text-batik-indigo block rounded-md px-3 py-2 text-base font-medium",onClick:()=>r(!1),children:"Pesanan Saya"}),e.jsx(s,{href:route("logout"),method:"post",as:"button",className:"block w-full rounded-md px-3 py-2 text-left text-base font-medium text-red-600 hover:bg-red-50",onClick:()=>r(!1),children:"Keluar"})]}):e.jsx(s,{href:"/login",className:"text-batik-brown hover:bg-batik-cream hover:text-batik-indigo block rounded-md px-3 py-2 text-base font-medium",onClick:()=>r(!1),children:"Masuk / Daftar"})]})})]})},pe=({children:t})=>e.jsx(de,{children:e.jsxs("div",{className:"flex min-h-screen flex-col",children:[e.jsx(me,{}),e.jsx("main",{className:"flex-1",children:t}),e.jsx(xe,{}),e.jsx(ce,{})]})});export{pe as L,W as M,te as P,C as U};
