import{j as e,U as b,r as f,$ as l,u as v,S as k}from"./app-rImy3gZT.js";import{L as p}from"./Layout-CZ6qMPL4.js";import{B as t}from"./index-Bdlz4M_o.js";import{T as y,a as w,b as j,c as n,d as C,e as i}from"./table-CYGXpfqE.js";import{f as o}from"./formatters-BdPsR_AQ.js";import{S as u}from"./shopping-bag-8FZVElfL.js";import{T}from"./trash-2-pPgVZ3Os.js";import{A as B}from"./arrow-right-C0kDOExy.js";/* empty css            */import"./use-initials-BbuuFBUP.js";import"./Combination-Ch-U0Asv.js";import"./map-pin-BSZyOi6U.js";import"./badge-CcOASLXD.js";class S extends b.Component{constructor(a){super(a),this.state={error:null,errorInfo:null}}static getDerivedStateFromError(a){return{error:a,errorInfo:null}}componentDidCatch(a,r){this.setState({error:a,errorInfo:r})}render(){var a,r,c;return this.state.error?e.jsx(p,{children:e.jsxs("div",{style:{color:"red",padding:24},children:[e.jsx("h2",{children:"Terjadi error di Cart:"}),e.jsx("pre",{children:(a=this.state.error)==null?void 0:a.toString()}),e.jsx("pre",{children:(r=this.state.errorInfo)==null?void 0:r.componentStack}),e.jsx("pre",{children:(c=this.state.error)==null?void 0:c.stack})]})}):this.props.children}}const z=()=>{const[x,a]=f.useState(null);if(x)return e.jsx("div",{className:"container mx-auto px-4 py-16 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx(u,{className:"mx-auto h-16 w-16 text-gray-400"}),e.jsx("h2",{className:"mt-2 text-2xl font-bold tracking-tight text-gray-900 sm:text-3xl",children:"Keranjang Belanja Kosong"}),e.jsx("p",{className:"mt-4 text-gray-500",children:"Anda belum menambahkan produk apapun ke keranjang belanja."}),e.jsx("div",{className:"mt-6",children:e.jsx(t,{asChild:!0,className:"bg-batik-indigo hover:bg-batik-indigo/90",children:e.jsx(l,{href:"/products",children:"Lihat Produk"})})})]})});try{const{cartItems:r,removeFromCart:c,updateQuantity:h,clearCart:g,totalPrice:m,isLoading:d}=v();return r.length===0?e.jsx("div",{className:"container mx-auto px-4 py-16 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx(u,{className:"mx-auto h-16 w-16 text-gray-400"}),e.jsx("h2",{className:"mt-2 text-2xl font-bold tracking-tight text-gray-900 sm:text-3xl",children:"Keranjang Belanja Kosong"}),e.jsx("p",{className:"mt-4 text-gray-500",children:"Anda belum menambahkan produk apapun ke keranjang belanja."}),e.jsx("div",{className:"mt-6",children:e.jsx(t,{asChild:!0,className:"bg-batik-indigo hover:bg-batik-indigo/90",children:e.jsx(l,{href:"/products",children:"Lihat Produk"})})})]})}):e.jsx("div",{className:"container mx-auto px-4 py-12 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid grid-cols-1 gap-x-8 gap-y-10 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("h1",{className:"text-batik-brown mb-8 text-2xl font-bold tracking-tight",children:"Keranjang Belanja"}),e.jsx("div",{className:"rounded-lg border shadow-sm",children:e.jsxs(y,{children:[e.jsx(w,{children:e.jsxs(j,{children:[e.jsx(n,{className:"w-[120px]",children:"Produk"}),e.jsx(n,{className:"hidden sm:table-cell",children:"Detail"}),e.jsx(n,{className:"w-[120px] text-right",children:"Harga"}),e.jsx(n,{className:"w-[120px] text-right",children:"Jumlah"}),e.jsx(n,{className:"w-[120px] text-right",children:"Total"}),e.jsx(n,{className:"w-[70px]"})]})}),e.jsx(C,{children:r.map((s,N)=>e.jsxs(j,{children:[e.jsx(i,{children:e.jsx(l,{href:`/products/${s.slug||s.id}`,children:e.jsx("img",{src:s.image,alt:s.name,className:"h-24 w-24 rounded-md object-cover object-center"})})}),e.jsxs(i,{className:"hidden font-medium sm:table-cell",children:[e.jsx("div",{children:e.jsx(l,{href:`/products/${s.slug||s.id}`,className:"hover:text-batik-indigo hover:underline",children:s.name})}),s.size&&e.jsxs("div",{className:"mt-1 text-xs text-gray-500",children:["Ukuran: ",s.size]})]}),e.jsxs(i,{className:"text-right",children:["Rp ",o(s.price||0)]}),e.jsx(i,{className:"text-right",children:e.jsxs("div",{className:"flex items-center justify-end",children:[e.jsx(t,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>h(s.id,Math.max(1,s.quantity-1),s.size),children:"-"}),e.jsx("span",{className:"w-10 text-center",children:s.quantity}),e.jsx(t,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>h(s.id,s.quantity+1,s.size),children:"+"})]})}),e.jsxs(i,{className:"text-right font-semibold",children:["Rp ",o((s.price||0)*s.quantity)]}),e.jsx(i,{children:e.jsx(t,{variant:"ghost",size:"icon",onClick:()=>c(s.id,s.size),className:"text-red-500 hover:bg-red-50 hover:text-red-700",children:e.jsx(T,{className:"h-4 w-4"})})})]},`${s.id}-${s.size||""}-${N}`))})]})}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx(t,{variant:"outline",onClick:g,className:"border-red-300 text-red-500 hover:bg-red-50",children:"Kosongkan Keranjang"})})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-card rounded-lg border p-6 shadow-sm",children:[e.jsx("h2",{className:"mb-4 text-lg font-semibold",children:"Ringkasan Pesanan"}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),e.jsxs("span",{children:["Rp ",(m||0).toLocaleString("id-ID")]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Pengiriman"}),e.jsx("span",{children:"Dihitung saat checkout"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Diskon"}),e.jsx("span",{children:"-"})]})]}),e.jsxs("div",{className:"my-4 border-t pt-4",children:[e.jsxs("div",{className:"flex justify-between font-medium",children:[e.jsx("span",{children:"Total"}),e.jsx("span",{children:o(m||0)})]}),e.jsx("p",{className:"text-muted-foreground mt-1 text-xs",children:"*Belum termasuk biaya pengiriman"})]}),e.jsxs(t,{onClick:()=>{k.visit("/checkout")},className:"bg-batik-indigo hover:bg-batik-indigo/90 mt-4 flex w-full items-center justify-center",disabled:d,children:[d?"Memproses...":"Lanjut ke Checkout",!d&&e.jsx(B,{className:"ml-2 h-4 w-4"})]}),e.jsx("div",{className:"mt-6",children:e.jsx(t,{asChild:!0,variant:"outline",className:"w-full",children:e.jsx(l,{href:"/products",children:"Lanjut Belanja"})})})]})})]})})}catch(r){return console.error("Error in CartContent:",r),a(r),null}},L=()=>e.jsx(p,{children:e.jsx(z,{})});function J(){return e.jsx(S,{children:e.jsx(L,{})})}export{J as default};
